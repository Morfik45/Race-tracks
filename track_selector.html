<!DOCTYPE html>
<html>
<head>
  <title>Racing Timer</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: sans-serif;
    }

    #trackMenu {
      display: none;
      position: fixed;
      top: 100px;
      left: 100px;
      background: rgba(0, 0, 0, 0.9);
      border: 2px solid lightgreen;
      padding: 20px;
      border-radius: 10px;
      z-index: 1000;
      width: 300px;
    }

    #trackPreview {
      background: #111;
      border: 1px solid lightgreen;
      height: 140px;
      margin-bottom: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: gray;
    }

    #trackList {
      max-height: 200px;
      overflow-y: auto;
      margin-bottom: 10px;
    }

    #trackList button {
      display: block;
      width: 100%;
      padding: 8px;
      margin: 5px 0;
      background: transparent;
      border: 1px solid lightgreen;
      color: white;
      cursor: pointer;
    }

    #trackList button:hover {
      background: rgba(144, 238, 144, 0.1);
    }

    #changeTrackBtn,
    #confirmTrackBtn {
      padding: 8px 12px;
      border: 1px solid lightgreen;
      background: transparent;
      color: white;
      cursor: pointer;
    }

    #confirmTrackBtn {
      margin-top: 10px;
      width: 100%;
    }
  </style>
</head>
<body>

  <h2>Racing Timer</h2>
  <button id="changeTrackBtn">Change Track</button>

  <!-- Track Selector Menu -->
  <div id="trackMenu">
    <h3 style="text-align: center; margin-bottom: 10px;">Select a Track</h3>
    
    <div id="trackPreview">Track preview will go here</div>
    
    <div id="trackList">
      <button 
        data-url="https://morfik45.github.io/Race-tracks/roxwood_circuit_drift.html"
        data-img="Images/drift_roxwood.png">
        Roxwood Circuit Drift
      </button>
      
      <!-- Add more track buttons here -->
    </div>
    
    <button id="confirmTrackBtn">Confirm</button>
  </div>

  <script>
    const changeTrackBtn = document.getElementById("changeTrackBtn");
    const trackMenu = document.getElementById("trackMenu");
    const confirmTrackBtn = document.getElementById("confirmTrackBtn");
    const preview = document.getElementById("trackPreview");
    const trackButtons = document.querySelectorAll("#trackList button");

    let selectedTrackUrl = null;
    let selectedButton = null;

    // Show menu
    changeTrackBtn.onclick = () => {
      trackMenu.style.display = "block";
    };

    // Handle selection
    trackButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        // Unhighlight previous
        if (selectedButton) {
          selectedButton.style.backgroundColor = "transparent";
        }

        // Set selected
        selectedTrackUrl = btn.getAttribute("data-url");
        selectedButton = btn;
        btn.style.backgroundColor = "rgba(144, 238, 144, 0.3)";

        // Set image preview
        const img = btn.getAttribute("data-img");
        if (img) {
          preview.innerHTML = `<img src="${img}" style="max-width:100%; max-height:100%;">`;
        } else {
          preview.innerHTML = "<em>No preview available</em>";
        }
      });
    });

    // Confirm and load
    confirmTrackBtn.onclick = () => {
      if (selectedTrackUrl) {
        location.href = selectedTrackUrl;
      }
    };
  </script>

</body>
</html>
